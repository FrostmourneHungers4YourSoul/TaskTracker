# Task Tracker

### 1. START

eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjpbeyJhdXRob3JpdHkiOiJST0xFX0FETUlOIn1dLCJpZCI6MSwidXNlcm5hbWUiOiJhZG1pbiIsInN1YiI6ImFkbWluIiwiaWF0IjoxNzUxNTEzMjQ0LCJleHAiOjE3NTE1MTQxNDR9.5ECWgZzewXNQlg5KlB5O25grhUlI8SoaZxYjr2f_vEc

43947379-9ec8-4753-ad86-de8833ed944a
---

### 2. Описание проекта

Проект представляет собой систему для создания, управления и отслеживания задач для различных пользователей и команд. Пользователи могут:

* создавать задачи,
* назначать их другим пользователям,
* изменять статус задач,
* отслеживать выполнение.

---

### 3. Функциональные требования

#### 3.1 Управление пользователями

* Регистрация и вход
* Три роли: **ADMIN**, **MANAGER**, **USER**
* Авторизация с использованием JWT и Refresh токена
* Просмотр и редактирование профиля

#### 3.2 Управление задачами

* Создание, просмотр, изменение и удаление задач
* Назначение задач другим пользователям
* Изменение статуса задачи:
  `NEW`, `IN_PROGRESS`, `REVIEW`, `COMPLETED`, `CANCELLED`
* Фильтрация по категориям
* Сортировка по приоритету

#### 3.3 Управление командами

* Создание и управление командами
* Добавление/удаление участников
* Просмотр задач команды

---

### 4. API эндпоинты

#### 4.1 Аутентификация и авторизация

* `POST /api/auth/register` — регистрация пользователя
* `POST /api/auth/login` — вход и получение JWT
* `POST /api/auth/refresh` — обновление JWT по Refresh токену
* `POST /api/auth/logout` — выход из системы

#### 4.2 Пользователи

* `GET /api/users` — список всех пользователей (только для **АДМИН**, **РУКОВОДИТЕЛЬ**)
* `GET /api/users/{id}` — информация о пользователе
* `PUT /api/users/{id}` — обновление информации
* `DELETE /api/users/{id}` — удаление (только **АДМИН**)

#### 4.3 Задачи

* `POST /api/tasks` — создание задачи
* `GET /api/tasks` — список задач (поддержка фильтрации и пагинации)
* `GET /api/tasks/{id}` — информация о задаче
* `PUT /api/tasks/{id}` — обновление задачи
* `DELETE /api/tasks/{id}` — удаление задачи
* `PATCH /api/tasks/{id}/status` — изменение статуса
* `PATCH /api/tasks/{id}/assign` — назначение пользователю

#### 4.4 Команды

* `POST /api/teams` — создание команды (**РУКОВОДИТЕЛЬ**, **АДМИН**)
* `GET /api/teams` — список команд
* `GET /api/teams/{id}` — информация о команде
* `PUT /api/teams/{id}` — обновление (**РУКОВОДИТЕЛЬ**, **АДМИН**)
* `DELETE /api/teams/{id}` — удаление (**АДМИН**)
* `POST /api/teams/{id}/members` — добавление участника (**РУКОВОДИТЕЛЬ**, **АДМИН**)
* `DELETE /api/teams/{id}/members/{userId}` — удаление участника (**РУКОВОДИТЕЛЬ**, **АДМИН**)

---

### 6. Требования безопасности

* Пароли хэшируются через BCrypt
* JWT сроком 15 минут
* Refresh Token сроком 7 дней
* Все эндпоинты (кроме регистрации и входа) требуют JWT
* Доступ по ролям
* Изменение задач доступно только владельцу, назначенному пользователю или пользователям с более высокой ролью

---

### 7. Требования
* **Язык программирования**: Java 21
* **Фреймворк**: Spring Boot 3.2.x или выше
* **Система управления зависимостями**: Maven
* **База данных**: PostgreSQL 16
* **Безопасность**: Аутентификация и авторизация с помощью JWT и Refresh Token
* **Документация API**: Swagger/OpenAPI
* Unit-тесты с использованием **JUnit** и **Mockito**
* Интеграционные тесты с использованием **Spring Boot Test**
* Использование H2 базы данных в тестах
* Минимальное покрытие: **70%**
